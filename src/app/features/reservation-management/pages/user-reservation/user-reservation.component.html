<app-header></app-header>

<div class="desk-container">
  <div *ngFor="let room of rooms; let roomIndex = index">
    <div *ngFor="let desk of desks; let deskIndex = index" class="desk-button">
      <p-button type="button" label="Desk {{ deskIndex + 1 }}" class="pl-4" (click)="showReservationModal(desk)"></p-button>
    </div>
  </div>
</div>

<p-dialog header="Reservation" [(visible)]="displayModal" [responsive]="true" [modal]="true" [draggable]="false"
  [maximizable]="true" [resizable]="false" [breakpoints]="{ '960px': '100vw' }" styleClass="w-25rem">

  <div class="grid p-fluid mt-3 flex">
    <div class="col-12  h-4rem">
      <label for="startTime">Start Time</label>
      <p-calendar [(ngModel)]="reservation.startTime" [showTime]="true" inputId="startTime" dateFormat="yy-mm-dd" appendTo="body"></p-calendar>
    </div>
    <div class="col-12  h-4rem">
      <label for="endTime">End Time</label>
      <p-calendar [(ngModel)]="reservation.endTime" [showTime]="true" inputId="endTime" dateFormat="yy-mm-dd" appendTo="body"></p-calendar>
    </div>
    <div class="col-12  h-4rem">
      <label for="status">Status</label>
      <input type="text" id="status" pInputText [(ngModel)]="reservation.action" disabled />
    </div>
    <div class="col-12  flex justify-content-center column-gap-6">
      <p-button *ngIf="!isDeskReserved" label="Reserve" styleClass="p-button-success"
      [raised]="true" (click)="submitReservation()"></p-button>
      <p-button label="Cancel" (click)="onClose()" styleClass="p-button-secondary"
      [raised]="true"></p-button>
   
    <p-button *ngIf="isDeskReserved" type="button" label="Cancel Reservation" class="p-button-danger" (click)="cancelReservation()"></p-button>
  </div>
</div>
</p-dialog>