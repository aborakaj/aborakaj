<app-header></app-header>

<div *ngFor="let room of rooms" class="room">
    <div
      *ngFor="let desk of room.desks"
      (click)="selectSpace(desk)"
      [class.selected]="selectedSpace === desk"
      class="desk"
    ></div>
  </div>
  
  <div
    (click)="selectSpace(meetingRoom)"
    [class.selected]="selectedSpace === meetingRoom"
    class="meeting-room"
  >
    Meeting Room
  </div>
  
  <div class="reservation-sidebar" [class.show]="selectedSpace">
    <h2>Reservation</h2>
    <form (ngSubmit)="submitReservation()">
      <label for="startTime">Start Time</label>
      <input
        type="datetime-local"
        id="startTime"
        [(ngModel)]="reservation.startTime"
        name="startTime"
        required
      />
      <label for="endTime">End Time</label>
      <input
        type="datetime-local"
        id="endTime"
        [(ngModel)]="reservation.endTime"
        name="endTime"
        required
      />
      <div class="status">
        Status: <span [class.available]="isAvailable">Available</span>
      </div>
      <button
        type="submit"
        class="btn btn-primary"
      >
        Reserve
      </button>
      
      <button
        type="button"
        *ngIf="reservationId"
        (click)="cancelReservation()"
        class="btn btn-danger" 
      >
        Cancel Reservation
      </button>
    </form>
  </div>
  